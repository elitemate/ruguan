(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/message/deal"],{"1abe":function(e,t,a){"use strict";a.r(t);var n=a("b990"),o=a("1cf8");for(var i in o)"default"!==i&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("fef7");var d,l=a("f0c5"),s=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],d);t["default"]=s.exports},"1cf8":function(e,t,a){"use strict";a.r(t);var n=a("f95e"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},"304f":function(e,t,a){"use strict";(function(e){a("fd83");n(a("66fd"));var t=n(a("1abe"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},a926:function(e,t,a){},b990:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement;e._self._c},i=[]},f95e:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a("45b8"));function o(e){return e&&e.__esModule?e:{default:e}}var i={name:"Card",data:function(){return{contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},loadingType:0,scrollTop:!1,TabCur:0,showNews:!1,showdeal:!0,scrollLeft:0,res:n.default,deal:[],dealLoad:{loading:!1,finished:!1,total:1},category:[{name:"关注",position:1,total:0,data:[]},{name:"推荐",position:2,total:0,data:[]},{name:"最新",position:3,total:0,data:[]},{name:"品牌设计",position:4,total:0,data:[]},{name:"知识产权",position:5,total:0,data:[]},{name:"知识",position:6,total:0,data:[]}],news:[],newsLoad:{loading:!1,finished:!1,total:1},min_id:1,min_id1:1}},onLoad:function(t){e.showLoading({title:"加载中..."}),this.getdeal(1)},onPageScroll:function(e){this.scrollTop=e.scrollTop>200},onReachBottom:function(){0==this.TabCur?this.dealOnLoad():this.newsOnLoad()},onPullDownRefresh:function(){this.min_id=1,this.min_id1=1,0==this.TabCur?this.getdeal(1):this.getNews(1)},methods:{tabSelect:function(t){e.hideLoading(),e.pageScrollTo({scrollTop:0,duration:500}),this.TabCur=t.currentTarget.dataset.id,this.scrollLeft=60*(t.currentTarget.dataset.id-1),0==t.currentTarget.dataset.id?0==this.deal.length?(e.showLoading({title:"加载中..."}),this.getdeal(1)):(this.showNews=!1,this.showdeal=!0):0==this.news.length?(e.showLoading({title:"加载中..."}),this.getNews(1)):(this.showNews=!0,this.showdeal=!1)},topScrollTap:function(){e.pageScrollTo({scrollTop:0,duration:300})},dealOnLoad:function(){this.getdeal(this.dealLoad.total+=1)},getdeal:function(t){var a=this;this.showNews=!1,this.showdeal=!0,this.loadingType=1,this.$Request.get("/selected_item/apikey/maxd/min_id/"+this.min_id).then((function(n){if(a.loadingType=0,1===n.code){1===t&&(a.deal=[]),a.min_id=n.min_id;for(var o=0;o<n.data.length;o++)n.data[o].show_content=n.data[o].show_content.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'"),n.data[o].copy_content=n.data[o].copy_content.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'"),n.data[o].copy_content=n.data[o].copy_content.replace(/<br>/g,"\n"),a.deal.push(n.data[o]);a.dealLoad.loading=!1}else a.loadingType=2,a.dealLoad.loading=!1,a.dealLoad.finished=!0;e.hideLoading(),e.stopPullDownRefresh()}))},getBian:function(t){var a=this;this.loadingType=1,this.$Request.get1("/excellent_editor/apikey/maxd/back/20/min_id/"+this.min_id1).then((function(n){if(a.loadingType=0,1===n.code){1===t&&(a.news=[]),a.min_id1=n.min_id;for(var o=0;o<n.data.length;o++)n.data[o].copy_text=n.data[o].copy_text.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'"),a.news.push(n.data[o]);a.newsLoad.loading=!1}else a.loadingType=2,a.newsLoad.loading=!1,a.newsLoad.finished=!0;e.hideLoading(),e.stopPullDownRefresh()}))},newsOnLoad:function(){this.getNews(this.newsLoad.total+=1)},getNews:function(t){var a=this;this.loadingType=1,this.showNews=!0,this.showdeal=!1,this.$Request.get("/subject_hot/apikey/maxd/min_id/"+this.min_id1).then((function(n){if(a.loadingType=0,1===n.code){1===t&&(a.news=[]),a.min_id1=n.min_id;for(var o=0;o<n.data.length;o++){n.data[o].goods=[];for(var i=n.data[o].item_data,d=0;d<i.length;d++)void 0!==i[d].itemendprice&&n.data[o].goods.push({image:i[d].itempic,price:"券后价"+i[d].itemendprice,to:i[d].itemid});n.data[o].show_text=n.data[o].show_text.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'"),n.data[o].copy_text=n.data[o].copy_text.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'"),n.data[o].copy_text=n.data[o].copy_text.replace(/<br>/g,"\n"),a.news.push(n.data[o])}a.newsLoad.loading=!1}else a.loadingType=2,a.newsLoad.loading=!1,a.newsLoad.finished=!0;e.stopPullDownRefresh(),e.hideLoading()}))}}};t.default=i}).call(this,a("543d")["default"])},fef7:function(e,t,a){"use strict";var n=a("a926"),o=a.n(n);o.a}},[["304f","common/runtime","common/vendor"]]]);